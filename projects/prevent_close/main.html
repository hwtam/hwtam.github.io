<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Prevent browser close tab-testing</title>
  <link rel="stylesheet" href="/asset/css/preventclose.css">
  <link rel="icon" href="/asset/img/brain.ico">
</head>
<body>

  <h1>Just leave this tab open and your browser won't be closed automatically</h1>

  <p>
    This page is just a redesign of
    <a href="https://maki-chan.de/preventclose.htm">THIS</a>
    .
  </p>

  <p id="bool"></p>

  <script>
    window.onbeforeunload = function() {
      return "Would you really like to close your browser?";
    };

    window.addEventListener('focusout', fun1);
    
    window.addEventListener('focus', fun2);

    function fun1() {
      document.getElementById(bool).innerHTML("should be not working")
    }

    function fun2() {
      document.getElementById(bool).innerHTML("should be working well")
    }


// if you try to duplicate the tab, the older tab won't work well.
  </script>

</body>
</html>